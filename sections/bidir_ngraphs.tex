\subsection{Discrete graph with $N$ nodes}

Let $\mathcal{G}$ be a graph with $n$ vertices.

Let $(X_{ij})_{i,j=1,...,n}$ be random variables for the number of connections between node $v_i$ and $v_j$ of $\mathcal{G}$ with $P(X=1)=p_{ij}$ and $P(X=0)=1-p_{ij}$ if $i \neq j$ and $P(X=0) =1 $ otherwise.

Define $S$ as the random variable of total number of connections in $G$,
\[
S := \sum_{i,j} X_{ij} = \sum_{i \neq j} X_{ij}.
\]

Then $\E(S)$ is the expected number of edges in $\mathcal{G}$. It is
\[
\E(S) = \sum_{i \neq j} \E(X_{ij}) = \sum_{i \neq j} p_{ij}.
\]

A \emph{bidirectional connection} exists between nodes $v_i$ and $v_j$ if there is a connection from $v_i$ to $v_j$ and from $v_j$ to $v_i$. Define  $(Y_{ij})_{i,j=1,...,n}$ as the random variables of bidirectional connections between $v_i$ and $v_j$,
\[
Y_{ij} = X_{ij} X_{ji}.
\]
The distributions are
\[
P(Y_{ij} = 1) = P(X_{ij}) P(X_{ji}) = p_{ij} p_{ji} \quad \mathrm{and} \quad P(Y_{ij} = 0) = 1 - p_{ij}p_{ji}.
\]

If $R$ is define as the random variable of the total number of reciprocal connections in the graph,
\[
R := \frac{1}{2} \sum_{i \neq j} Y_{ij} = \sum_{i > j} Y_{ij},
\]
then $\E(R)$ is the expected number of reciprocal connections in $\mathcal{G}$, easily computed as
\[
\E(R) = \sum_{i>j} \E(Y_{ij}) = \sum_{i > j} p_{ij} p_{ji}.
\]

The overall connection probability $\bar{p}$ in a network is often measured as the number of connections divided by the number of (distinct) pairs. Here,
\[
\bar{p} := \frac{\E(S)}{N(N-1)} = \frac{1}{N(N-1)} \sum_{i \neq j} p_{ij}.
\]

Then the expected number of reciprocal connections is often computed using
\[
\widetilde{\E}(R) = \binom{N}{2}\, \bar{p}^2 = \frac{N(N-1)}{2}\,  \bar{p}^2.
\]

In comparing $\E(R)$ with $\E(\widetilde{R})$ we make a distinction between special cases:

\subsection{Asymmetric case $p_{ij} \neq  p _{ji}$}

\begin{lemma} \label{lem2}
  For $x,y \in \mathbb{R}$ we have inequality
  \[
  x^2 + y^2 \geq 2xy.
  \]
  which is strict if and only if $x \neq y$,
  \end{lemma}

\begin{proof}
  It is $x^2 + y^2 - 2xy = (x - y)^2 \geq 0 $, thus $  x^2 + y^2 \geq 2xy$, in which strictness holds if $x \neq y$. Conversely, if $x=y$, it follows trivially that $x^2 + y^2 = 2xy$ proving the second statement.
\end{proof}

I think I've got caught up in asymmetric part a bit. Considering a graph with two nodes of average connection probability $p=0.5$, it's clear that the expected amount of reciprocal connections is \textbf{highest} when $p_{12} = p_{21} = 0.5$. Consider the extreme case of $p_{12} = 1$ and $p_{21} = 0$, where reciprocal connection appear with probability zero.

That asymmetric connectivity reduces bidirectional connections is encapsulated in Lemma \ref{lem2}. It would still be interesting to confirm (numerically?) and quantify(?) how asymmetric connectivity affect the reciprocal pair counts.

\subsection{Symmetric case  $p_{ij} =  p _{ji}$}


